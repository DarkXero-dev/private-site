---
const interests = [
  {
    title: 'Music',
    items: ['Electronic / Hard Bass', "80's Classics", 'Heavy Metal', 'Country'],
  },
  {
    title: 'Film',
    items: ['Lars Von Trier', 'Andrei Tarkovsky', 'Stanley Kubrick', 'Francis Ford Coppola', 'George Lucas'],
  },
  {
    title: 'Platforms',
    items: ['macOS', 'Windows 11', 'Linux (XeroLinux)', 'iOS / iPhone', 'Android'],
  },
  {
    title: 'Passions',
    items: ['Hardware Tinkering', 'Web Design', 'Open Source', 'Multi-Platform Workflows'],
  },
];
---

<div class="flex flex-col gap-6 h-full">
  <h2 class="font-[family-name:var(--font-heading)] text-lg text-[var(--color-accent)] shrink-0">Interests</h2>

  <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
    {interests.map((interest) => (
      <div class="info-card p-5">
        <h3 class="font-[family-name:var(--font-heading)] text-sm font-bold text-[var(--color-text-primary)] mb-3">
          {interest.title}
        </h3>
        <ul class="space-y-2">
          {interest.items.map((item) => (
            <li class="flex items-center gap-2.5 text-sm text-[var(--color-text-secondary)]">
              <span class="dot"></span>
              {item}
            </li>
          ))}
        </ul>
      </div>
    ))}
  </div>

  <!-- Desktop-only: Hacker Terminal — fills remaining space -->
  <div class="hidden lg:flex lg:flex-col info-card p-4 overflow-hidden flex-1 min-h-[200px]">
    <div class="flex items-center gap-2 mb-3 shrink-0">
      <span class="w-3 h-3 rounded-full bg-red-500/70"></span>
      <span class="w-3 h-3 rounded-full bg-yellow-500/70"></span>
      <span class="w-3 h-3 rounded-full bg-green-500/70"></span>
      <span class="font-[family-name:var(--font-mono)] text-[10px] text-[var(--color-text-muted)] ml-2">root@stationxero:~#</span>
    </div>
    <div id="hacker-terminal" class="font-[family-name:var(--font-mono)] text-[11px] leading-[1.6] overflow-hidden flex-1">
    </div>
  </div>
</div>

<script>
  const terminal = document.getElementById('hacker-terminal');
  if (terminal && window.innerWidth >= 1024) {
    const green = 'color:#4ade80';
    const cyan = 'color:#22d3ee';
    const yellow = 'color:#facc15';
    const red = 'color:#f87171';
    const muted = 'color:#6e7a8a';
    const white = 'color:#e6edf3';
    const accent = 'color:#7c6aef';
    const orange = 'color:#fb923c';

    const sequences = [
      // SSH bruteforce detection
      [
        { text: '$ tail -f /var/log/auth.log | grep "Failed password"', style: white },
        { text: 'Feb 24 03:14:22 sshd[4821]: Failed password for root from 185.220.101.34 port 44821 ssh2', style: red },
        { text: 'Feb 24 03:14:23 sshd[4821]: Failed password for root from 185.220.101.34 port 44821 ssh2', style: red },
        { text: 'Feb 24 03:14:25 sshd[4822]: Failed password for admin from 92.118.36.198 port 51002 ssh2', style: red },
        { text: 'Feb 24 03:14:26 sshd[4823]: Failed password for nobody from 45.33.32.156 port 38129 ssh2', style: red },
        { text: '$ fail2ban-client status sshd', style: white },
        { text: '|- Filter', style: cyan },
        { text: '|  |- Currently failed: 4', style: cyan },
        { text: '|  |- Total failed:     2847', style: yellow },
        { text: '`- Actions', style: cyan },
        { text: '   |- Currently banned: 23', style: red },
        { text: '   `- Total banned:     1842', style: red },
        { text: '', style: muted },
      ],
      // Network packet capture
      [
        { text: '$ tcpdump -i eth0 -nn -c 12 "port not 22"', style: white },
        { text: 'tcpdump: verbose output suppressed, listening on eth0', style: muted },
        { text: '03:15:01.234 IP 192.168.1.100.443 > 10.0.0.5.52341: Flags [S.], seq 0, ack 1, win 65535', style: green },
        { text: '03:15:01.235 IP 10.0.0.5.52341 > 192.168.1.100.443: Flags [.], ack 1, win 502', style: green },
        { text: '03:15:01.412 IP 192.168.1.100.53 > 8.8.8.8.53: 42917+ A? vault.techxero.com (38)', style: cyan },
        { text: '03:15:01.445 IP 8.8.8.8.53 > 192.168.1.100.53: 42917 1/0/0 A 104.21.48.12 (54)', style: cyan },
        { text: '03:15:01.891 IP 192.168.1.100.3000 > 10.0.0.12.61823: Flags [P.], seq 1:487, ack 1', style: green },
        { text: '03:15:02.103 ARP, Request who-has 192.168.1.1 tell 192.168.1.100, length 28', style: yellow },
        { text: '03:15:02.104 ARP, Reply 192.168.1.1 is-at aa:bb:cc:dd:ee:ff, length 28', style: yellow },
        { text: '12 packets captured, 0 dropped by kernel', style: muted },
        { text: '', style: muted },
      ],
      // Firewall rules
      [
        { text: '$ iptables -L INPUT -n --line-numbers | head -20', style: white },
        { text: 'Chain INPUT (policy DROP)', style: yellow },
        { text: 'num  target     prot  source        destination', style: yellow },
        { text: '1    ACCEPT     all   127.0.0.1     0.0.0.0/0', style: green },
        { text: '2    ACCEPT     tcp   0.0.0.0/0     0.0.0.0/0     tcp dpt:22 state NEW limit: 3/min', style: green },
        { text: '3    ACCEPT     tcp   0.0.0.0/0     0.0.0.0/0     tcp dpt:80', style: green },
        { text: '4    ACCEPT     tcp   0.0.0.0/0     0.0.0.0/0     tcp dpt:443', style: green },
        { text: '5    ACCEPT     udp   10.0.0.0/8    0.0.0.0/0     udp dpt:51820', style: green },
        { text: '6    DROP       all   185.220.0.0/16 0.0.0.0/0    /* known scanner */       ', style: red },
        { text: '7    DROP       all   92.118.36.0/24 0.0.0.0/0    /* brute force */         ', style: red },
        { text: '8    LOG        all   0.0.0.0/0     0.0.0.0/0     LOG level warning prefix "IPT_DROP: "', style: yellow },
        { text: '9    DROP       all   0.0.0.0/0     0.0.0.0/0', style: red },
        { text: '', style: muted },
      ],
      // Python exploit / hash cracking
      [
        { text: '$ python3 -c "import hashlib; [print(hashlib.sha256(f\'pass{i}\'.encode()).hexdigest()[:24], f\'pass{i}\') for i in range(6)]"', style: white },
        { text: 'd74ff0ee8da3b9806b18c8 pass0', style: accent },
        { text: '7c222fb2927d828af22f592 pass1', style: accent },
        { text: 'b68fe43f0d1a0d7aef123a pass2', style: accent },
        { text: '32250170a0dca92d53ec97 pass3', style: accent },
        { text: 'ea3a28f98c33e003c099aa pass4', style: accent },
        { text: '5b722b307fce6c944905d1 pass5', style: accent },
        { text: '$ echo -n "s3cur3_p@ssw0rd!" | openssl dgst -sha512 | cut -c1-64', style: white },
        { text: 'a7f2b8c9d4e1f6a3b0c5d8e2f7a4b1c6d9e3f0a5b8c2d7e4f1a6b3c0d5e8f2', style: green },
        { text: '$ openssl rand -hex 32', style: white },
        { text: '9e4f2a8c1b7d3e6f0a5c8d2b4e7f1a3c6d9b2e5f8a0c3d7e1b4f6a9c2d5e8f0', style: green },
        { text: '', style: muted },
      ],
      // Network scan + service enumeration
      [
        { text: '$ nmap -sV -sC -O 192.168.1.0/24 --top-ports 1000', style: white },
        { text: 'Starting Nmap 7.95 ( https://nmap.org )', style: muted },
        { text: 'Nmap scan report for gateway (192.168.1.1)', style: cyan },
        { text: 'PORT    STATE  SERVICE     VERSION', style: yellow },
        { text: '22/tcp  open   ssh         OpenSSH 9.6p1 (protocol 2.0)', style: green },
        { text: '53/tcp  open   domain      Pi-hole FTL 5.25', style: green },
        { text: '80/tcp  open   http        nginx 1.25.4', style: green },
        { text: '443/tcp open   ssl/https   nginx 1.25.4', style: green },
        { text: '| ssl-cert: Subject: CN=*.techxero.com', style: accent },
        { text: '| Not valid before: 2024-12-01T00:00:00', style: accent },
        { text: '|_Not valid after:  2025-11-30T23:59:59', style: accent },
        { text: '3000/tcp open  ppp?        Grafana v10.3.1', style: green },
        { text: '8080/tcp filtered http-proxy', style: yellow },
        { text: '9000/tcp open  http        Portainer CE 2.21', style: green },
        { text: 'OS: Linux 6.x (99%), FreeBSD 14.x (85%)', style: cyan },
        { text: 'Nmap done: 256 hosts scanned in 28.41 seconds', style: muted },
        { text: '', style: muted },
      ],
      // Docker containers + logs
      [
        { text: '$ docker ps --format "table {{.Names}}\\t{{.Status}}\\t{{.Ports}}"', style: white },
        { text: 'NAMES          STATUS          PORTS', style: yellow },
        { text: 'nginx-proxy    Up 14 days      0.0.0.0:443->443/tcp', style: green },
        { text: 'grafana        Up 14 days      0.0.0.0:3000->3000/tcp', style: green },
        { text: 'portainer      Up 14 days      0.0.0.0:9000->9000/tcp', style: green },
        { text: 'pihole         Up 14 days      0.0.0.0:53->53/udp', style: green },
        { text: 'wireguard      Up 14 days      0.0.0.0:51820->51820/udp', style: green },
        { text: '$ docker logs nginx-proxy --tail 5', style: white },
        { text: '192.168.1.42 - - [24/Feb/2026:03:14:01] "GET /api/v1/health HTTP/2.0" 200 15', style: muted },
        { text: '10.0.0.5 - - [24/Feb/2026:03:14:12] "POST /auth/login HTTP/2.0" 401 82', style: red },
        { text: '10.0.0.5 - - [24/Feb/2026:03:14:13] "POST /auth/login HTTP/2.0" 200 1847', style: green },
        { text: '192.168.1.42 - - [24/Feb/2026:03:14:18] "GET /dashboard HTTP/2.0" 200 24891', style: muted },
        { text: '45.33.32.156 - - [24/Feb/2026:03:14:22] "GET /admin HTTP/2.0" 403 162', style: red },
        { text: '', style: muted },
      ],
      // System boot + neofetch
      [
        { text: '$ neofetch --minimal', style: white },
        { text: '  OS: XeroLinux x86_64', style: cyan },
        { text: '  Host: StationXero', style: cyan },
        { text: '  Kernel: 6.12.8-arch1-1', style: cyan },
        { text: '  DE: KDE Plasma 6.2 (Wayland)', style: cyan },
        { text: '  CPU: AMD Ryzen 9 5950X (32) @ 4.9GHz', style: cyan },
        { text: '  GPU: AMD RX 7800XT', style: cyan },
        { text: '  Memory: 8420MiB / 65536MiB', style: cyan },
        { text: '$ uptime -p', style: white },
        { text: '  up 14 days, 7 hours, 43 minutes', style: green },
        { text: '$ sensors | grep -E "Tctl|edge|fan"', style: white },
        { text: '  Tctl:         +52.4°C', style: green },
        { text: '  edge:         +48.0°C (GPU)', style: green },
        { text: '  fan1:         892 RPM', style: cyan },
        { text: '  fan2:         1104 RPM', style: cyan },
        { text: '', style: muted },
      ],
      // Wireguard VPN status
      [
        { text: '$ wg show', style: white },
        { text: 'interface: wg0', style: cyan },
        { text: '  public key: xR7fK2pN8qL5mW3vT9bA1cE6dF0gH4iJ+kM7nO=', style: green },
        { text: '  private key: (hidden)', style: muted },
        { text: '  listening port: 51820', style: green },
        { text: '', style: muted },
        { text: 'peer: aB3cD5eF7gH9iJ1kL3mN5oP7qR9sT1uV3wX5yZ=', style: cyan },
        { text: '  endpoint: 78.41.203.18:48291', style: green },
        { text: '  allowed ips: 10.0.0.2/32', style: green },
        { text: '  latest handshake: 42 seconds ago', style: green },
        { text: '  transfer: 2.84 GiB received, 487.22 MiB sent', style: yellow },
        { text: '', style: muted },
        { text: 'peer: zY9xW7vU5tS3rQ1pO9nM7lK5jI3hG1fE9dC7bA=', style: cyan },
        { text: '  endpoint: 103.214.18.42:51820', style: green },
        { text: '  allowed ips: 10.0.0.3/32', style: green },
        { text: '  latest handshake: 3 minutes, 12 seconds ago', style: green },
        { text: '  transfer: 914.55 MiB received, 102.30 MiB sent', style: yellow },
        { text: '', style: muted },
      ],
      // Git activity + code diff
      [
        { text: '$ git log --oneline -5 --graph', style: white },
        { text: '* a3f8c2d (HEAD -> main) feat: add vault iframe with auth gate', style: accent },
        { text: '* e7b1a09 fix: resolve hydration mismatch on tabs', style: accent },
        { text: '* c44de82 chore: update tailwind to v4.2.1', style: accent },
        { text: '* 9a0f3b1 feat: dynamic age from birthdate calc', style: accent },
        { text: '* 1fd82e7 refactor: inline SVG icons replace CDN', style: accent },
        { text: '$ git diff --stat HEAD~3', style: white },
        { text: ' src/components/Sidebar.astro     | 42 +++++++++-----', style: green },
        { text: ' src/components/tabs/TabVault.astro | 28 ++++++++++', style: green },
        { text: ' src/styles/global.css             | 12 ++--', style: yellow },
        { text: ' 3 files changed, 58 insertions(+), 24 deletions(-)', style: muted },
        { text: '', style: muted },
      ],
      // Disk encryption + LUKS
      [
        { text: '$ cryptsetup luksDump /dev/nvme0n1p2 | head -12', style: white },
        { text: 'LUKS header information', style: cyan },
        { text: 'Version:        2', style: cyan },
        { text: 'Epoch:          5', style: cyan },
        { text: 'Metadata area:  16384 [bytes]', style: cyan },
        { text: 'Keyslots area:  16744448 [bytes]', style: cyan },
        { text: 'UUID:           a8f3c2d1-e4b5-6f7a-8c9d-0e1f2a3b4c5d', style: green },
        { text: 'Label:          XERO_ROOT', style: green },
        { text: 'Cipher:         aes-xts-plain64', style: yellow },
        { text: 'Cipher key:     512 bits', style: yellow },
        { text: 'PBKDF:          argon2id', style: yellow },
        { text: '  Iterations:   4, Memory: 1048576, Threads: 4', style: yellow },
        { text: '', style: muted },
      ],
      // Process monitoring + kill suspicious
      [
        { text: '$ ss -tulnp | grep LISTEN', style: white },
        { text: 'tcp  LISTEN 0  4096  0.0.0.0:22     0.0.0.0:*  users:(("sshd",pid=842))', style: green },
        { text: 'tcp  LISTEN 0  511   0.0.0.0:80     0.0.0.0:*  users:(("nginx",pid=1204))', style: green },
        { text: 'tcp  LISTEN 0  511   0.0.0.0:443    0.0.0.0:*  users:(("nginx",pid=1204))', style: green },
        { text: 'tcp  LISTEN 0  4096  127.0.0.1:3000 0.0.0.0:*  users:(("grafana",pid=1842))', style: green },
        { text: 'tcp  LISTEN 0  4096  0.0.0.0:9000   0.0.0.0:*  users:(("portainer",pid=2103))', style: green },
        { text: 'udp  UNCONN 0  0     0.0.0.0:51820  0.0.0.0:*  users:(("wireguard",pid=901))', style: green },
        { text: 'tcp  LISTEN 0  128   0.0.0.0:4444   0.0.0.0:*  users:(("nc",pid=6821))', style: red },
        { text: '$ kill -9 6821 && echo "[!] Killed suspicious listener on :4444"', style: white },
        { text: '[!] Killed suspicious listener on :4444', style: red },
        { text: '$ journalctl -u sshd --since "1 hour ago" | grep "Accepted" | wc -l', style: white },
        { text: '3', style: green },
        { text: '', style: muted },
      ],
      // SQL injection test
      [
        { text: "$ sqlmap -u 'http://target.local/login?id=1' --batch --dbs", style: white },
        { text: '        ___', style: red },
        { text: '       __H__', style: red },
        { text: " ___ ___[']_____ ___ ___  {1.8.4#stable}", style: red },
        { text: "|_ -| . [.]     | .'| . |", style: red },
        { text: '|___|_  ["]_|_|_|__,|  _|', style: red },
        { text: '      |_|V...       |_|', style: red },
        { text: '', style: muted },
        { text: '[*] testing connection to the target URL', style: muted },
        { text: "[*] testing 'AND boolean-based blind'", style: yellow },
        { text: "[*] testing 'MySQL >= 5.0 error-based'", style: yellow },
        { text: '[+] Parameter: id (GET)', style: green },
        { text: '    Type: boolean-based blind', style: green },
        { text: "    Payload: id=1' AND 5832=5832 AND 'a'='a", style: accent },
        { text: '[+] available databases [3]:', style: green },
        { text: '[*] information_schema', style: cyan },
        { text: '[*] mysql', style: cyan },
        { text: '[*] webapp_prod', style: red },
        { text: '', style: muted },
      ],
      // Base64 decode + hex dump
      [
        { text: '$ echo "aHR0cHM6Ly90ZWNoeGVyby5jb20=" | base64 -d', style: white },
        { text: 'https://techxero.com', style: green },
        { text: '$ echo "7375646F20726D202D7266202F" | xxd -r -p', style: white },
        { text: 'sudo rm -rf /', style: red },
        { text: '$ hexdump -C /dev/urandom | head -8', style: white },
        { text: '00000000  4a 2f 8c e1 37 b5 09 d4  a8 6c 1f 03 7e 5b 92 c0  |J/..7....l..~[..|', style: muted },
        { text: '00000010  f3 68 a4 2d 11 bf 56 e8  ca 7d 3e 90 05 41 b7 6f  |.h.-..V..}>..A.o|', style: muted },
        { text: '00000020  89 dc 23 75 e6 40 fc 1a  52 8b d7 4e 63 0f a5 38  |..#u.@..R..Nc..8|', style: muted },
        { text: '00000030  b1 9c 67 ad 2e f0 84 59  c3 76 18 eb 4d a2 3f d5  |..g....Y.v..M.?.|', style: muted },
        { text: '00000040  0e 5a c8 f1 93 27 b4 6d  a0 de 72 16 8f 43 e9 5b  |.Z...\'.m..r..C.[|', style: muted },
        { text: '00000050  37 b0 a6 cc 61 f8 2a 54  d9 85 4c 0b 7e e3 1d 98  |7...a.*T..L.~...|', style: muted },
        { text: '00000060  c4 3a f2 66 19 ad 50 87  eb 71 d3 2c 05 be 48 a9  |.:.f..P..q.,..H.|', style: muted },
        { text: '00000070  7c 13 e5 9f 40 b6 da 5e  22 84 6b c7 3d f1 a0 53  ||...@..^".k.=..S|', style: muted },
        { text: '', style: muted },
      ],
      // Paru update + kernel
      [
        { text: '$ paru -Syu --noconfirm 2>&1 | tail -8', style: white },
        { text: ':: Synchronizing package databases...', style: muted },
        { text: ' core                  134.2 KiB  1284 KiB/s 00:00', style: green },
        { text: ' extra                   8.6 MiB  12.4 MiB/s 00:01', style: green },
        { text: ' multilib              134.8 KiB  2048 KiB/s 00:00', style: green },
        { text: ':: Starting full system upgrade...', style: muted },
        { text: 'resolving dependencies...', style: muted },
        { text: 'looking for conflicting packages...', style: muted },
        { text: '', style: muted },
        { text: 'Packages (3) linux-6.12.9-1  mesa-24.3.4-1  firefox-134.0.2-1', style: yellow },
        { text: '', style: muted },
        { text: 'Total Download Size:    142.84 MiB', style: cyan },
        { text: 'Total Installed Size:   487.21 MiB', style: cyan },
        { text: 'Net Upgrade Size:        12.33 MiB', style: cyan },
        { text: '', style: muted },
        { text: '(3/3) upgrading firefox                    [################] 100%', style: green },
        { text: ':: Running post-transaction hooks...', style: muted },
        { text: '(1/3) Arming ConditionNeedsUpdate...', style: muted },
        { text: '(2/3) Updating module dependencies...', style: muted },
        { text: '(3/3) Updating linux initcpios...', style: muted },
        { text: '', style: muted },
      ],
      // Crontab + scheduled tasks
      [
        { text: '$ crontab -l', style: white },
        { text: '# StationXero automated tasks', style: muted },
        { text: '0 3 * * *   /usr/local/bin/backup.sh >> /var/log/backup.log 2>&1', style: green },
        { text: '*/5 * * * * /usr/local/bin/health-check.sh', style: green },
        { text: '0 0 * * 0   certbot renew --quiet', style: green },
        { text: '30 2 * * *  docker system prune -f >> /dev/null 2>&1', style: green },
        { text: '0 */6 * * * rsync -avz /data/ backup@nas:/volume1/mirror/', style: green },
        { text: '$ systemctl list-timers --no-pager | head -6', style: white },
        { text: 'NEXT                        LEFT       UNIT', style: yellow },
        { text: 'Mon 2026-02-25 00:00:00 EET 20h left   logrotate.timer', style: cyan },
        { text: 'Mon 2026-02-25 00:00:00 EET 20h left   shadow.timer', style: cyan },
        { text: 'Mon 2026-02-25 03:00:00 EET 23h left   backup.timer', style: cyan },
        { text: '', style: muted },
      ],
      // Metasploit-style payload generation
      [
        { text: '$ msfvenom -p linux/x64/shell_reverse_tcp LHOST=10.0.0.1 LPORT=4443 -f elf -o /tmp/payload.elf', style: white },
        { text: '[-] No platform was selected, choosing Msf::Module::Platform::Linux', style: yellow },
        { text: '[-] No arch selected, selecting arch: x64', style: yellow },
        { text: 'No encoder specified, outputting raw payload', style: muted },
        { text: 'Payload size: 74 bytes', style: green },
        { text: 'Final size of elf file: 194 bytes', style: green },
        { text: 'Saved as: /tmp/payload.elf', style: green },
        { text: '$ file /tmp/payload.elf', style: white },
        { text: '/tmp/payload.elf: ELF 64-bit LSB executable, x86-64, version 1 (SYSV)', style: cyan },
        { text: '$ sha256sum /tmp/payload.elf', style: white },
        { text: 'e4a1c3f5d7b9e2a4c6f8d0b2e4a6c8f0d2b4e6a8c0f2d4b6e8a0c2f4d6b8e0  /tmp/payload.elf', style: accent },
        { text: '$ rm -f /tmp/payload.elf && echo "[+] Cleaned up"', style: white },
        { text: '[+] Cleaned up', style: green },
        { text: '', style: muted },
      ],
    ];

    let seqIndex = 0;

    function addLine(text, style, speed) {
      return new Promise((resolve) => {
        const el = document.createElement('div');
        el.style.cssText = style;
        terminal.appendChild(el);
        terminal.scrollTop = terminal.scrollHeight;

        if (text === '') {
          resolve();
          return;
        }

        let i = 0;
        const rate = speed || (text.startsWith('$') ? 25 : 5);
        const type = () => {
          if (i < text.length) {
            el.textContent = text.substring(0, i + 1);
            i++;
            terminal.scrollTop = terminal.scrollHeight;
            setTimeout(type, rate + Math.random() * (rate / 3));
          } else {
            resolve();
          }
        };
        type();
      });
    }

    async function runSequence() {
      const seq = sequences[seqIndex % sequences.length];
      seqIndex++;

      for (const line of seq) {
        await addLine(line.text, line.style);
        await new Promise(r => setTimeout(r, line.text.startsWith('$') ? 500 : 40));
      }

      // Short pause between sequences
      await new Promise(r => setTimeout(r, 1200));

      // Keep running forever
      runSequence();
    }

    setTimeout(runSequence, 600);
  }
</script>
